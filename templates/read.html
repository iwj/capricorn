{% extends "base.html" %}

{% block body %}

    <article>
      <h1>{{ title }}</h1>
      <h4>{{ time }}</h4>
      <div>{% raw text %}</div>
    </aticle>
    <div id="share-wx">
      <p>å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œä¸å¦¨åˆ†äº«ç»™å¤§å®¶å§ã€‚ğŸ˜</p>
      <p><a id="share-wx-button" onclick="openShareTip()">åˆ†äº«åˆ°æœ‹å‹åœˆ</a></p>
    </div>
    <div id="share-tip" onclick="closeShareTip()">
      <b>ç‚¹å‡»å³ä¸Šè§’åˆ†äº«åˆ°æœ‹å‹åœˆâ†—ï¸</b><br>
      <small>è½»è§¦ä»»æ„åœ°æ–¹æ”¶èµ·æœ¬æ¡æç¤º</small>
    </div>

    <script>
    //åˆ¤æ–­æ˜¯å¦æ˜¯å¾®ä¿¡å†…ç½®æµè§ˆå™¨
      function isWeixinBrowser(){
        var ua = navigator.userAgent.toLowerCase();
        return (/micromessenger/.test(ua)) ;
      }
      var ret = isWeixinBrowser();
      if(ret){
        var share_dom = document.getElementById("share-wx") // æ‰¾åˆ°å…ƒç´ 
        share_dom.style.display = "block";          // æ”¹å˜æ ·å¼
      }else{
        //å½“å‰æ˜¯éå¾®ä¿¡å†…ç½®æµè§ˆå™¨ï¼Œå¯æ”¾ç½®äºŒç»´ç ï¼Œæ‰«æåˆ†äº«åˆ°æœ‹å‹åœˆ
      }

      //åˆ†äº«åˆ°æœ‹å‹åœˆçš„æç¤º
      function openShareTip(){
        var share_tip = document.getElementById("share-tip");
        share_tip.style.display = "inherit";
      }

      //å…³é—­åˆ†äº«æç¤ºå›¾å±‚
      function  closeShareTip(){
        var share_tip = document.getElementById("share-tip");
        share_tip.style.display = "none";
      }
    </script>

{% end %}
